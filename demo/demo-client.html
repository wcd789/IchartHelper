<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<title>domo-client.html</title>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<style type="text/css">
<!--
body {color: #000000; background-color: #ffffff; font-family: Monospaced}
pre {color: #000000; background-color: #ffffff; font-family: Monospaced}
table {color: #000000; background-color: #e9e8e2; font-family: Monospaced}
.ST6 {color: #009900; background-color: #e3f2e1}
.ST0 {color: #628fb5; background-color: #e9eff8}
.ST3 {color: #0000e6; background-color: #e3f2e1}
.tag {color: #0000e6}
.ST5 {color: #9f0d79; background-color: #e3f2e1}
.ST7 {background-color: #e3f2e1; font-family: Monospaced; font-weight: bold}
.argument {color: #009900}
.ST1 {background-color: #e3f2e1}
.ST2 {color: #ce7b00; background-color: #e3f2e1}
.highlight-caret-row {background-color: #e9eff8}
.ST8 {color: #007c00; background-color: #e3f2e1; font-family: Monospaced; font-weight: bold}
.value {color: #ce7b00}
.ST4 {color: #969696; background-color: #e3f2e1}
-->
</style>
</head>
<body>
<pre>
 1 <span class="ST0">&lt;!DOCTYPE</span> <span class="ST0">html</span><span class="ST0">&gt;</span>
 2 <span class="tag">&lt;</span><span class="tag">html</span><span class="tag">&gt;</span>
 3     <span class="tag">&lt;</span><span class="tag">head</span><span class="tag">&gt;</span>
 4         <span class="tag">&lt;</span><span class="tag">script</span> <span class="argument">src</span><span class="argument">=</span><span class="value">&quot;../js/jquery-1.7.2.min.js&quot;</span> <span class="argument">type</span><span class="argument">=</span><span class="value">&quot;text/javascript&quot;</span><span class="tag">&gt;</span><span class="tag">&lt;/</span><span class="tag">script</span><span class="tag">&gt;</span>
 5         <span class="tag">&lt;</span><span class="tag">script</span> <span class="argument">src</span><span class="argument">=</span><span class="value">&quot;../js/ichart.1.1.src.js&quot;</span> <span class="argument">type</span><span class="argument">=</span><span class="value">&quot;text/javascript&quot;</span><span class="tag">&gt;</span><span class="tag">&lt;/</span><span class="tag">script</span><span class="tag">&gt;</span>
 6         <span class="tag">&lt;</span><span class="tag">title</span><span class="tag">&gt;</span>ichart helper示例-客户端<span class="tag">&lt;/</span><span class="tag">title</span><span class="tag">&gt;</span>
 7         <span class="tag">&lt;</span><span class="tag">script</span> <span class="argument">type</span><span class="argument">=</span><span class="value">&quot;text/javascript&quot;</span><span class="tag">&gt;</span>
 8             <span class="ST1">$</span><span class="ST1">(</span><span class="ST2">&quot;</span><span class="ST2">document</span><span class="ST2">&quot;</span><span class="ST1">)</span><span class="ST1">.</span><span class="ST1">ready</span><span class="ST1">(</span><span class="ST3">function</span><span class="ST1">(</span><span class="ST1">)</span> <span class="ST1">{</span>
 9                 <span class="ST1">$</span><span class="ST1">(</span><span class="ST3">function</span><span class="ST1">(</span><span class="ST1">)</span> <span class="ST1">{</span>
10                     <span class="ST4">//！！！！！！！！！！！！！！！！！！！！！！！！</span>
11                     <span class="ST4">//通过绑定或者ajax方式把数据传递到客户端</span>
12                     <span class="ST3">var</span> <span class="ST1">ichartdata</span> <span class="ST1">=</span> <span class="ST5">jQuery</span><span class="ST1">.</span><span class="ST1">parseJSON</span><span class="ST1">(</span><span class="ST2">&#39;</span><span class="ST2">${ichartdata!}</span><span class="ST2">&#39;</span><span class="ST1">)</span><span class="ST1">;</span>
13                     <span class="ST3">var</span> <span class="ST1">chart</span> <span class="ST1">=</span> <span class="ST3">new</span> <span class="ST5">iChart</span><span class="ST1">.</span><span class="ST1">Area2D</span><span class="ST1">(</span><span class="ST1">{</span>
14                         <span class="ST6">render</span><span class="ST1">:</span> <span class="ST2">&#39;</span><span class="ST2">canvasDiv</span><span class="ST2">&#39;</span><span class="ST1">,</span>
15                         <span class="ST4">//！！！！！！！！！</span>
16                         <span class="ST4">//获取其中的data部分</span>
17                         <span class="ST6">data</span><span class="ST1">:</span> <span class="ST1">ichartdata</span><span class="ST1">.</span><span class="ST1">data</span><span class="ST1">,</span>
18                         <span class="ST6">title</span><span class="ST1">:</span> <span class="ST2">&#39;</span><span class="ST2">北京-上海两城市2012年平均温度情况</span><span class="ST2">&#39;</span><span class="ST1">,</span>
19                         <span class="ST6">width</span><span class="ST1">:</span> <span class="ST1">800</span><span class="ST1">,</span>
20                         <span class="ST6">height</span><span class="ST1">:</span> <span class="ST1">400</span><span class="ST1">,</span>
21                         <span class="ST7">legend</span><span class="ST1">:</span> <span class="ST1">{</span>
22                             <span class="ST6">enable</span><span class="ST1">:</span> <span class="ST3">true</span><span class="ST1">,</span>
23                             <span class="ST6">row</span><span class="ST1">:</span> <span class="ST1">1</span><span class="ST1">,</span> <span class="ST4">//设置在一行上显示，与column配合使用</span>
24                             <span class="ST6">column</span><span class="ST1">:</span> <span class="ST2">&#39;</span><span class="ST2">max</span><span class="ST2">&#39;</span><span class="ST1">,</span>
25                             <span class="ST6">valign</span><span class="ST1">:</span> <span class="ST2">&#39;</span><span class="ST2">top</span><span class="ST2">&#39;</span><span class="ST1">,</span>
26                             <span class="ST6">background_color</span><span class="ST1">:</span> <span class="ST3">null</span><span class="ST1">,</span> <span class="ST4">//设置透明背景</span>
27                             <span class="ST6">offsetx</span><span class="ST1">:</span> <span class="ST1">-</span><span class="ST1">30</span><span class="ST1">,</span> <span class="ST4">//设置x轴偏移，满足位置需要</span>
28                             <span class="ST6">border</span><span class="ST1">:</span> <span class="ST3">false</span>
29                         <span class="ST1">}</span><span class="ST1">,</span>
30                         <span class="ST7">tip</span><span class="ST1">:</span> <span class="ST1">{</span>
31                             <span class="ST6">enable</span><span class="ST1">:</span> <span class="ST3">true</span><span class="ST1">,</span>
32                             <span class="ST7">listeners</span><span class="ST1">:</span> <span class="ST1">{</span>
33                                 <span class="ST4">//tip:提示框对象、name:数据名称、value:数据值、text:当前文本、i:数据点的索引</span>
34                                 <span class="ST7">parseText</span><span class="ST1">:</span> <span class="ST3">function</span><span class="ST1">(</span><span class="ST1">tip</span><span class="ST1">,</span> <span class="ST1">name</span><span class="ST1">,</span> <span class="ST1">value</span><span class="ST1">,</span> <span class="ST1">text</span><span class="ST1">,</span> <span class="ST1">i</span><span class="ST1">)</span> <span class="ST1">{</span>
35                                     <span class="ST3">return</span> <span class="ST1">name</span> <span class="ST1">+</span> <span class="ST2">&quot;</span><span class="ST2">地区&lt;br/&gt;:</span><span class="ST2">&quot;</span> <span class="ST1">+</span> <span class="ST5">labels</span><span class="ST1">[</span><span class="ST1">i</span><span class="ST1">]</span> <span class="ST1">+</span> <span class="ST2">&quot;</span><span class="ST2">平均温度:</span><span class="ST2">&quot;</span> <span class="ST1">+</span> <span class="ST1">value</span> <span class="ST1">+</span> <span class="ST2">&quot;</span><span class="ST2">℃</span><span class="ST2">&quot;</span><span class="ST1">;</span>
36                                 <span class="ST1">}</span>
37                             <span class="ST1">}</span>
38                         <span class="ST1">}</span><span class="ST1">,</span>
39                         <span class="ST7">crosshair</span><span class="ST1">:</span> <span class="ST1">{</span>
40                             <span class="ST6">enable</span><span class="ST1">:</span> <span class="ST3">true</span><span class="ST1">,</span>
41                             <span class="ST6">line_color</span><span class="ST1">:</span> <span class="ST2">&#39;</span><span class="ST2">#62bce9</span><span class="ST2">&#39;</span><span class="ST1">,</span>
42                             <span class="ST6">line_width</span><span class="ST1">:</span> <span class="ST1">2</span>
43                         <span class="ST1">}</span><span class="ST1">,</span>
44                         <span class="ST7">sub_option</span><span class="ST1">:</span> <span class="ST1">{</span>
45                             <span class="ST6">label</span><span class="ST1">:</span> <span class="ST3">false</span><span class="ST1">,</span>
46                             <span class="ST6">point_size</span><span class="ST1">:</span> <span class="ST1">10</span>
47                         <span class="ST1">}</span><span class="ST1">,</span>
48                         <span class="ST6">background_color</span><span class="ST1">:</span> <span class="ST2">&#39;</span><span class="ST2">#f2f2f2</span><span class="ST2">&#39;</span><span class="ST1">,</span>
49                         <span class="ST7">coordinate</span><span class="ST1">:</span> <span class="ST1">{</span>
50                             <span class="ST7">axis</span><span class="ST1">:</span> <span class="ST1">{</span>
51                                 <span class="ST6">width</span><span class="ST1">:</span> <span class="ST1">[</span><span class="ST1">0</span><span class="ST1">,</span> <span class="ST1">0</span><span class="ST1">,</span> <span class="ST1">2</span><span class="ST1">,</span> <span class="ST1">0</span><span class="ST1">]</span>
52                             <span class="ST1">}</span><span class="ST1">,</span>
53                             <span class="ST6">background_color</span><span class="ST1">:</span> <span class="ST2">&#39;</span><span class="ST2">#ffffff</span><span class="ST2">&#39;</span><span class="ST1">,</span>
54                             <span class="ST6">height</span><span class="ST1">:</span> <span class="ST2">&#39;</span><span class="ST2">90%</span><span class="ST2">&#39;</span><span class="ST1">,</span>
55                             <span class="ST6">scale</span><span class="ST1">:</span> <span class="ST1">[</span><span class="ST1">{</span>
56                                     <span class="ST6">position</span><span class="ST1">:</span> <span class="ST2">&#39;</span><span class="ST2">left</span><span class="ST2">&#39;</span><span class="ST1">,</span>
57                                     <span class="ST6">scale_space</span><span class="ST1">:</span> <span class="ST1">5</span><span class="ST1">,</span>
58                                     <span class="ST6">scale_enable</span><span class="ST1">:</span> <span class="ST3">false</span><span class="ST1">,</span> <span class="ST4">//禁用小横线</span>
59                                     <span class="ST7">listeners</span><span class="ST1">:</span> <span class="ST1">{</span>
60                                         <span class="ST7">parseText</span><span class="ST1">:</span> <span class="ST3">function</span><span class="ST1">(</span><span class="ST1">t</span><span class="ST1">,</span> <span class="ST1">x</span><span class="ST1">,</span> <span class="ST1">y</span><span class="ST1">)</span> <span class="ST1">{</span>
61                                             <span class="ST3">return</span> <span class="ST1">{</span><span class="ST6">text</span><span class="ST1">:</span> <span class="ST1">t</span> <span class="ST1">+</span> <span class="ST2">&quot;</span><span class="ST2">℃</span><span class="ST2">&quot;</span><span class="ST1">}</span>
62                                         <span class="ST1">}</span>
63                                     <span class="ST1">}</span>
64                                 <span class="ST1">}</span><span class="ST1">,</span> <span class="ST1">{</span>
65                                     <span class="ST6">position</span><span class="ST1">:</span> <span class="ST2">&#39;</span><span class="ST2">bottom</span><span class="ST2">&#39;</span><span class="ST1">,</span>
66                                     <span class="ST6">start_scale</span><span class="ST1">:</span> <span class="ST1">1</span><span class="ST1">,</span>
67                                     <span class="ST6">end_scale</span><span class="ST1">:</span> <span class="ST1">12</span><span class="ST1">,</span>
68                                     <span class="ST7">parseText</span><span class="ST1">:</span> <span class="ST3">function</span><span class="ST1">(</span><span class="ST1">t</span><span class="ST1">,</span> <span class="ST1">x</span><span class="ST1">,</span> <span class="ST1">y</span><span class="ST1">)</span> <span class="ST1">{</span>
69                                         <span class="ST3">return</span> <span class="ST1">{</span><span class="ST6">textY</span><span class="ST1">:</span> <span class="ST1">y</span> <span class="ST1">+</span> <span class="ST1">10</span><span class="ST1">}</span>
70                                     <span class="ST1">}</span><span class="ST1">,</span>
71                                     <span class="ST4">//！！！！！！！！！</span>
72                                     <span class="ST4">//获取其中的labels部分</span>
73                                     <span class="ST6">labels</span><span class="ST1">:</span> <span class="ST1">ichartdata</span><span class="ST1">.</span><span class="ST1">labels</span>
74                                 <span class="ST1">}</span><span class="ST1">]</span>
75                         <span class="ST1">}</span>
76                     <span class="ST1">}</span><span class="ST1">)</span><span class="ST1">;</span>
77                     <span class="ST1">chart</span><span class="ST1">.</span><span class="ST1">draw</span><span class="ST1">(</span><span class="ST1">)</span><span class="ST1">;</span>
78 
79                 <span class="ST1">}</span><span class="ST1">)</span><span class="ST1">;</span>
80             <span class="ST1">}</span><span class="ST1">)</span><span class="ST1">;</span>
81         <span class="tag">&lt;/</span><span class="tag">script</span><span class="tag">&gt;</span>
82         <span class="tag">&lt;</span><span class="tag">meta</span> <span class="argument">http-equiv</span><span class="argument">=</span><span class="value">&quot;Content-Type&quot;</span> <span class="argument">content</span><span class="argument">=</span><span class="value">&quot;text/html; charset=UTF-8&quot;</span><span class="tag">&gt;</span>
83     <span class="tag">&lt;/</span><span class="tag">head</span><span class="tag">&gt;</span>
84     <span class="tag">&lt;</span><span class="tag">body</span><span class="tag">&gt;</span>
85          //！！！！！！！！！
86          //注意查看有这样标识地方的代码，显示效果见
http://www.ichartjs.com/samples/index.html?page=area2d_02.html&pageno=0
87         <span class="tag">&lt;</span><span class="tag">div</span> <span class="argument">id</span><span class="argument">=</span><span class="value">&#39;</span><span class="ST8">canvasDiv</span><span class="value">&#39;</span><span class="tag">&gt;</span>  <span class="tag">&lt;/</span><span class="tag">div</span><span class="tag">&gt;</span>
88     <span class="tag">&lt;/</span><span class="tag">body</span><span class="tag">&gt;</span>
89 <span class="tag">&lt;/</span><span class="tag">html</span><span class="tag">&gt;</span>
90 
</pre></body>
</html>
